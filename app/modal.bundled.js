(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["modal"],{

/***/ "./app/assets/scripts/modules/Modal.js":
/*!*********************************************!*\
  !*** ./app/assets/scripts/modules/Modal.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ \"./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nclass Modal {\r\n\tconstructor(projects) {\r\n\t\tthis.slideWidth = 700;\r\n\t\tthis.draggingFrom = 0;\r\n\t\tthis.draggingTo = 0;\r\n\t\tthis.threshold = this.slideWidth / 3;\r\n\t\tthis.projects = projects;\r\n\r\n\t\t// DOM ELEMENTS\r\n\t\tthis.mixItUpButtons = document.querySelectorAll('.mixitup .button');\r\n\t\tthis.modalContainer = document.querySelector('.modal-container');\r\n\t\tthis.carouselContainer = document.querySelector('.carousel-container');\r\n\t\tthis.carousel = document.querySelector('#carousel');\r\n\t\tthis.slides = [];\r\n\t\tthis.close = document.querySelector('.close-modal');\r\n\t\tthis.background = document.querySelector('.modal-container__background');\r\n\r\n\t\tthis.previousButton = document.querySelector('#previousButton');\r\n\t\tthis.nextButton = document.querySelector('#nextButton');\r\n\r\n\t\tthis.moveMouse = (e) => {\r\n\t\t\tthis.draggingTo = e.pageX;\r\n\t\t\tthis.carousel.style.transform = `translateX(${this.getDraggingPosition()}px)`;\r\n\t\t};\r\n\r\n\t\tthis.upMouse = () => {\r\n\t\t\tif (this.getDraggingPosition() > this.threshold) return this.onShift(1);\r\n\t\t\tif (this.getDraggingPosition() < -this.threshold) return this.onShift(-1);\r\n\r\n\t\t\tthis.onShift(0);\r\n\t\t};\r\n\r\n\t\tthis.events();\r\n\t}\r\n\r\n\tevents() {\r\n\t\twindow.addEventListener(\r\n\t\t\t'resize',\r\n\t\t\tlodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(() => {\r\n\t\t\t\tthis.setDimensions();\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.previousButton.addEventListener('click', () => {\r\n\t\t\tthis.onShift(1);\r\n\t\t});\r\n\r\n\t\tthis.nextButton.addEventListener('click', () => {\r\n\t\t\tthis.onShift(-1);\r\n\t\t});\r\n\r\n\t\tthis.close.addEventListener('click', () => {\r\n\t\t\tthis.modalContainer.classList.remove('visible');\r\n\t\t\tthis.slides.forEach((slide) => {\r\n\t\t\t\tslide.remove();\r\n\t\t\t});\r\n\t\t\tdocument.querySelector('.modal-container__code').innerHTML = '';\r\n\t\t});\r\n\r\n\t\tthis.background.addEventListener('click', () => {\r\n\t\t\tthis.modalContainer.classList.remove('visible');\r\n\t\t\tthis.slides.forEach((slide) => {\r\n\t\t\t\tslide.remove();\r\n\t\t\t});\r\n\t\t\tdocument.querySelector('.modal-container__code').innerHTML = '';\r\n\t\t});\r\n\r\n\t\tthis.carousel.addEventListener('mousedown', (event) => {\r\n\t\t\tif (this.carousel.classList.contains('transition')) return;\r\n\r\n\t\t\tthis.draggingFrom = event.pageX;\r\n\t\t\tthis.carousel.addEventListener('mousemove', this.moveMouse);\r\n\r\n\t\t\tdocument.addEventListener('mouseup', this.upMouse);\r\n\t\t});\r\n\t}\r\n\r\n\tsetDimensions() {\r\n\t\tthis.slideWidth = 700 > window.innerWidth ? window.innerWidth : 700;\r\n\t\tthis.carouselContainer.style.width = this.slideWidth + 'px';\r\n\t\tif (this.slides.length) {\r\n\t\t\tthis.slides.forEach((slide) => (slide.style.width = this.slideWidth + 'px'));\r\n\t\t}\r\n\t\tthis.carousel.style.left = this.slideWidth * -1 + 'px';\r\n\t}\r\n\r\n\tgetDraggingPosition() {\r\n\t\treturn this.draggingTo - this.draggingFrom;\r\n\t}\r\n\r\n\tonShift(direction) {\r\n\t\tif (this.carousel.classList.contains('transition')) return;\r\n\r\n\t\tthis.draggingTo = this.draggingFrom;\r\n\r\n\t\tdocument.removeEventListener('mouseup', this.upMouse);\r\n\t\tthis.carousel.removeEventListener('mousemove', this.moveMouse);\r\n\r\n\t\tthis.carousel.classList.add('transition');\r\n\t\tthis.carousel.style.transform = `translateX(${direction * this.slideWidth}px)`;\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tif (direction === 1) $('.carousel-container__slide:first').before($('.carousel-container__slide:last'));\r\n\t\t\tif (direction === -1) $('.carousel-container__slide:last').after($('.carousel-container__slide:first'));\r\n\r\n\t\t\tthis.carousel.classList.remove('transition');\r\n\t\t\tthis.carousel.style.transform = 'translateX(0px)';\r\n\t\t}, 700);\r\n\t}\r\n\r\n\tpopulateModal(id) {\r\n\t\t// MAIN INFORMATION\r\n\t\tlet title = document.querySelector('.modal-container__information--title');\r\n\t\tlet detail = document.querySelector('.modal-container__information--detail');\r\n\t\tlet tag = document.querySelector('.modal-container__information--tag');\r\n\t\tlet link = document.querySelector('.modal-container__link__website');\r\n\t\tlet date = document.querySelector('.modal-container__information--date');\r\n\r\n\t\ttitle.textContent = this.projects[id].title;\r\n\t\tdetail.textContent = this.projects[id].detail;\r\n\t\ttag.textContent = this.projects[id].tag;\r\n\t\tdate.textContent = this.projects[id].date;\r\n\t\tlink.setAttribute('href', this.projects[id].link);\r\n\r\n\t\tif (!this.slides.length) {\r\n\t\t\tthis.projects[id].images.forEach((image) => {\r\n\t\t\t\tconst slide = document.createElement('div');\r\n\t\t\t\tslide.setAttribute('class', 'carousel-container__slide');\r\n\t\t\t\tslide.style.backgroundImage = `${image}`;\r\n\t\t\t\tthis.carousel.appendChild(slide);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.slides = document.querySelectorAll('.carousel-container__slide');\r\n\r\n\t\t// CODE SAMPLES\r\n\t\tlet codeSamples = document.querySelector('.modal-container__code');\r\n\r\n\t\tthis.projects[id].sampleCode.forEach((code) => {\r\n\t\t\tconst title = document.createElement('div');\r\n\t\t\ttitle.setAttribute('class', 'modal-container__code--title');\r\n\t\t\ttitle.innerHTML = code.title;\r\n\t\t\tcodeSamples.appendChild(title);\r\n\r\n\t\t\tconst description = document.createElement('div');\r\n\t\t\tdescription.setAttribute('class', 'modal-container__code--description');\r\n\t\t\tdescription.innerHTML = code.description;\r\n\t\t\tcodeSamples.appendChild(description);\r\n\r\n\t\t\tconst image = document.createElement('img');\r\n\t\t\timage.setAttribute('src', code.photo);\r\n\t\t\timage.setAttribute('alt', code.title);\r\n\t\t\timage.setAttribute('title', code.title);\r\n\t\t\tcodeSamples.appendChild(image);\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Modal);\r\n\n\n//# sourceURL=webpack:///./app/assets/scripts/modules/Modal.js?");

/***/ })

}]);